package com.example.day4__alertdialog;

import androidx.appcompat.app.AlertDialog;
import androidx.appcompat.app.AppCompatActivity;

import android.content.DialogInterface;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.Button;
import android.widget.Toast;

public class MainActivity extends AppCompatActivity implements View.OnClickListener {

    Button btn_common, btn_list, btn_singlelist, btn_multilist, btn_custom;
    private AlertDialog alertDialog;
    private AlertDialog.Builder builder;
    private boolean[] checkItems;

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        bindview();
    }

    @Override
    public void onClick(View view) {
        switch (view.getId()) {
            case R.id.btn_common:
                alertDialog=null;
                // 创建AlertDialog.Builder对象
                builder=new AlertDialog.Builder(MainActivity.this);
                alertDialog=builder.setIcon(R.drawable.ic_launcher_background)
                        .setTitle("系统提示")    // 设置标题
                        .setMessage("这是一个普通的对话框")    // 设置对话框内容
                        .setNegativeButton("取消", new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialogInterface, int i) {
                                Toast.makeText(MainActivity.this,"点击了取消按钮",Toast.LENGTH_SHORT).show();
                            }
                        })
                        .setPositiveButton("确定", new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialogInterface, int i) {
                                Toast.makeText(MainActivity.this,"点击了确定按钮",Toast.LENGTH_SHORT).show();
                            }
                        })
                        .setNeutralButton("忽略", new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialogInterface, int i) {
                                Toast.makeText(MainActivity.this,"点击了忽略按钮",Toast.LENGTH_SHORT).show();
                            }
                        })
                        .create();    // 调用create()方法创建对象
                // 将对话框显示出来
                alertDialog.show();
                break;
            case R.id.btn_list:
                final String[] animal_list={"哥斯拉","蒙古野驴","黄河大鲤鱼"};
                alertDialog=null;
                builder=new AlertDialog.Builder(MainActivity.this);
                alertDialog=builder.setIcon(R.drawable.ic_launcher_background)
                        .setTitle("选择你喜欢的小动物")
                        .setItems(animal_list, new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialogInterface, int i) {
                                Toast.makeText(MainActivity.this,"你喜欢的是"+animal_list[i],Toast.LENGTH_SHORT).show();
                            }
                        }).create();
                alertDialog.show();
                break;
            case R.id.btn_singlelist:
                final String[] animal_single={"哥斯拉","蒙古野驴","黄河大鲤鱼"};
                builder=new AlertDialog.Builder(MainActivity.this);
                alertDialog=builder.setIcon(R.drawable.ic_launcher_background)
                        .setTitle("选择你喜欢的小动物")
                        .setSingleChoiceItems(animal_single, 0, new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialogInterface, int i) {
                                Toast.makeText(MainActivity.this,"你喜欢的是"+animal_single[i],Toast.LENGTH_SHORT).show();
                            }
                        }).create();
                alertDialog.show();
            case R.id.btn_multilist:
                final String[] animal_multi={"哥斯拉","蒙古野驴","黄河大鲤鱼"};
                checkItems=new boolean[]{false,false,false};
                builder=new AlertDialog.Builder(MainActivity.this);
                alertDialog=builder.setIcon(R.drawable.ic_launcher_background)
                        .setTitle("选择你喜欢的动物，可以多选")
                        .setMultiChoiceItems(animal_multi, checkItems, new DialogInterface.OnMultiChoiceClickListener() {
                            @Override
                            public void onClick(DialogInterface dialogInterface, int i, boolean b) {
                                checkItems[i]=b;
                            }
                        })
                        .setPositiveButton("确定", new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialogInterface, int i) {
                                String result="";
                                for(int n=0;n<checkItems.length;n++) {
                                    if(checkItems[n]) {
                                        result+=animal_multi[n]+" ";
                                    }
                                }
                                Toast.makeText(MainActivity.this,"你喜欢的是"+result,Toast.LENGTH_SHORT).show();
                            }
                        }).create();
                alertDialog.show();
                break;
            case R.id.btn_custom:
                LayoutInflater layoutInflater=LayoutInflater.from(this);
                View login=layoutInflater.inflate(R.layout.login,null);
                alertDialog=null;
                builder=new AlertDialog.Builder(MainActivity.this);
                alertDialog=builder.setIcon(R.drawable.ic_launcher_background)
                        .setTitle("用户登录")
                        .setView(login)
                        .setPositiveButton("登录",null)
                        .setNeutralButton("取消",null)
                        .create();
                alertDialog.show();
                break;
        }
    }

    private void bindview() {
        btn_common = (Button) findViewById(R.id.btn_common);
        btn_list = (Button) findViewById(R.id.btn_list);
        btn_singlelist = (Button) findViewById(R.id.btn_singlelist);
        btn_multilist = (Button) findViewById(R.id.btn_multilist);
        btn_custom = (Button) findViewById(R.id.btn_custom);

        btn_common.setOnClickListener(this);
        btn_list.setOnClickListener(this);
        btn_singlelist.setOnClickListener(this);
        btn_multilist.setOnClickListener(this);
        btn_custom.setOnClickListener(this);
    }
}