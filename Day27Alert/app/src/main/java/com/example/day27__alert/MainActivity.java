package com.example.day27__alert;

import androidx.appcompat.app.AppCompatActivity;

import android.app.AlertDialog;
import android.app.DatePickerDialog;
import android.app.Dialog;
import android.app.ProgressDialog;
import android.content.DialogInterface;
import android.os.Bundle;
import android.view.LayoutInflater;
import android.view.View;
import android.widget.Button;
import android.widget.EditText;

import java.util.Calendar;

public class MainActivity extends AppCompatActivity {

    Button btn_showCommonDialog, btn_showButtonDialog, btn_showInputDialog, btn_showListDialog;
    Button btn_showRadioDialog, btn_showCheckBoxDialog, btn_showDatetimePickDialog, btn_showProgressDialog;
    Button btn_showMyDialog;
    String[] arrayHobby = {"唱", "跳", "rap", "篮球"};

    @Override
    protected void onCreate(Bundle savedInstanceState) {
        super.onCreate(savedInstanceState);
        setContentView(R.layout.activity_main);
        initView();

        btn_showCommonDialog.setOnClickListener(new BtClickListener());
        btn_showButtonDialog.setOnClickListener(new BtClickListener());
        btn_showInputDialog.setOnClickListener(new BtClickListener());
        btn_showListDialog.setOnClickListener(new BtClickListener());
        btn_showRadioDialog.setOnClickListener(new BtClickListener());
        btn_showCheckBoxDialog.setOnClickListener(new BtClickListener());
        btn_showDatetimePickDialog.setOnClickListener(new BtClickListener());
        btn_showProgressDialog.setOnClickListener(new BtClickListener());
        btn_showMyDialog.setOnClickListener(new BtClickListener());
    }

    class BtClickListener implements View.OnClickListener {

        @Override
        public void onClick(View view) {
            switch (view.getId()) {
                case R.id.btn_showCommonDialog:
                    showDialog(1);
                    break;
                case R.id.btn_showButtonDialog:
                    showDialog(2);
                    break;
                case R.id.btn_showInputDialog:
                    showDialog(3);
                    break;
                case R.id.btn_showListDialog:
                    showDialog(4);
                    break;
                case R.id.btn_showRadioDialog:
                    showDialog(5);
                    break;
                case R.id.btn_showCheckBoxDialog:
                    showDialog(6);
                    break;
                case R.id.btn_showDatetimePickDialog:
                    showDialog(7);
                    break;
                case R.id.btn_showProgressDialog:
                    showDialog(8);
                    break;
                case R.id.btn_showMyDialog:
                    showDialog(9);
                    break;
            }
        }
    }

    @Override
    protected Dialog onCreateDialog(int id) {
        Dialog alert = null;
        switch (id) {
            case 1:
                alert = new AlertDialog.Builder(this)
                        .setTitle("普通对话框")
                        .setMessage("这是一个普通对话框")
                        .setIcon(R.mipmap.ic_launcher)
                        .create();
                break;
            case 2:
                alert = new AlertDialog.Builder(this)
                        .setTitle("确定退出？")
                        .setMessage("确定要退出程序吗？")
                        .setIcon(R.mipmap.ic_launcher)
                        .setPositiveButton("确定", new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialogInterface, int i) {
                                finish();
                            }
                        })
                        .setNegativeButton("取消", new DialogInterface.OnClickListener() {
                            @Override
                            public void onClick(DialogInterface dialogInterface, int i) {

                            }
                        }).create();
                break;
            case 3:
                alert = new AlertDialog.Builder(this)
                        .setTitle("请输入")
                        .setIcon(R.mipmap.ic_launcher)
                        .setView(new EditText(this))
                        .setPositiveButton("确定", null)
                        .setNegativeButton("取消", null)
                        .create();
                break;
            case 4:
                alert = new AlertDialog.Builder(this)
                        .setTitle("运动列表")
                        .setIcon(R.mipmap.ic_launcher)
                        .setItems(arrayHobby, null)
                        .setPositiveButton("确定", null)
                        .setNegativeButton("取消", null)
                        .create();
                break;
            case 5:
                alert = new AlertDialog.Builder(this)
                        .setTitle("你喜欢那种运动？")
                        .setIcon(R.mipmap.ic_launcher)
                        .setSingleChoiceItems(arrayHobby, 0, null)
                        .setPositiveButton("确定", null)
                        .setNegativeButton("取消", null)
                        .create();
                break;
            case 6:
                alert = new AlertDialog.Builder(this)
                        .setTitle("你喜欢那种运动？")
                        .setIcon(R.mipmap.ic_launcher)
                        .setMultiChoiceItems(arrayHobby, null, null)
                        .setPositiveButton("确定", null)
                        .setNegativeButton("取消", null)
                        .create();
                break;
            case 7:
                Calendar c = Calendar.getInstance();
                alert = new DatePickerDialog(this, null, c.get(Calendar.YEAR), c.get(Calendar.MONTH), c.get(Calendar.DAY_OF_MONTH));
                break;
            case 8:
                ProgressDialog pd = new ProgressDialog(this);
                pd.setTitle("下载进度");
                pd.setMax(100);
                pd.setProgressStyle(ProgressDialog.STYLE_HORIZONTAL);
                pd.setProgress(10);
                pd.setCancelable(true);
                alert = (Dialog) pd;
                break;
            case 9:
                LayoutInflater layoutInflater = LayoutInflater.from(this);
                View loginView = layoutInflater.inflate(R.layout.login, null);
                alert = new AlertDialog.Builder(this)
                        .setTitle("用户登录")
                        .setIcon(R.mipmap.ic_launcher)
                        .setView(loginView)
                        .setPositiveButton("登录", null)
                        .setNegativeButton("取消", null)
                        .create();
                break;
        }
        return alert;
    }

    private void initView() {
        btn_showCommonDialog = (Button) findViewById(R.id.btn_showCommonDialog);
        btn_showButtonDialog = (Button) findViewById(R.id.btn_showButtonDialog);
        btn_showInputDialog = (Button) findViewById(R.id.btn_showInputDialog);
        btn_showListDialog = (Button) findViewById(R.id.btn_showListDialog);
        btn_showRadioDialog = (Button) findViewById(R.id.btn_showRadioDialog);
        btn_showCheckBoxDialog = (Button) findViewById(R.id.btn_showCheckBoxDialog);
        btn_showDatetimePickDialog = (Button) findViewById(R.id.btn_showDatetimePickDialog);
        btn_showProgressDialog = (Button) findViewById(R.id.btn_showProgressDialog);
        btn_showMyDialog = (Button) findViewById(R.id.btn_showMyDialog);
    }
}